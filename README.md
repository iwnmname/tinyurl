# TinyURL - –°–µ—Ä–≤–∏—Å —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è —Å—Å—ã–ª–æ–∫

TinyURL - —ç—Ç–æ –ª–µ–≥–∫–∏–π –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ—Ä–æ—Ç–∫–∏—Ö URL-–∞–¥—Ä–µ—Å–æ–≤ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∞–ª–∏–∞—Å–æ–≤, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

![Go Version](https://img.shields.io/badge/go-1.24-blue)

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å Docker

```bash
# –ó–∞–ø—É—Å–∫ TinyURL
docker run -d -p 8080:8080 -v tinyurl-data:/data --name tinyurl iwnmname/tinyurl
```

## –î–≤–∞ —Å–ø–æ—Å–æ–±–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ—Ä–æ—Ç–∫–∏—Ö —Å—Å—ã–ª–æ–∫

### –°–ø–æ—Å–æ–± 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API —á–µ—Ä–µ–∑ curl

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ—Ä–æ—Ç–∫–æ–π —Å—Å—ã–ª–∫–∏
curl -X POST http://localhost:8080/shorten \
  -H "Content-Type: application/json" \
  -d '{"url":"https://example.com"}'

# –° –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –∞–ª–∏–∞—Å–æ–º
curl -X POST http://localhost:8080/shorten \
  -H "Content-Type: application/json" \
  -d '{"url":"https://example.com", "alias":"mylink"}'

# –° –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è (7 –¥–Ω–µ–π)
curl -X POST http://localhost:8080/shorten \
  -H "Content-Type: application/json" \
  -d '{"url":"https://example.com", "ttl_days": 7}'

# –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
curl http://localhost:8080/stats/mylink
```

### –°–ø–æ—Å–æ–± 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CLI —á–µ—Ä–µ–∑ Docker

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ—Ä–æ—Ç–∫–æ–π —Å—Å—ã–ª–∫–∏ (–¥–ª—è Linux)
docker run --rm -it --network host iwnmname/tinyurl ./tinyurl-cli -s http://localhost:8080 short https://example.com

# –° –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –∞–ª–∏–∞—Å–æ–º
docker run --rm -it --network host iwnmname/tinyurl ./tinyurl-cli -s http://localhost:8080 short https://example.com -a mylink

# –° –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è (7 –¥–Ω–µ–π)
docker run --rm -it --network host iwnmname/tinyurl ./tinyurl-cli -s http://localhost:8080 short https://example.com -t 7

# –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
docker run --rm -it --network host iwnmname/tinyurl ./tinyurl-cli -s http://localhost:8080 stats mylink
```

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- ‚úÇÔ∏è **–°–æ–∫—Ä–∞—â–µ–Ω–∏–µ URL** - –ø—Ä–µ–≤—Ä–∞—â–µ–Ω–∏–µ –¥–ª–∏–Ω–Ω—ã—Ö —Å—Å—ã–ª–æ–∫ –≤ –∫–æ—Ä–æ—Ç–∫–∏–µ –∏ —É–¥–æ–±–Ω—ã–µ
- üî† **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∞–ª–∏–∞—Å—ã** - —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏—Ö—Å—è –∫–æ—Ä–æ—Ç–∫–∏—Ö –∫–æ–¥–æ–≤
- ‚è±Ô∏è **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è** - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –∂–∏–∑–Ω–∏ —Å—Å—ã–ª–æ–∫ (TTL)
- üìä **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–ª–∏–∫–æ–≤ –ø–æ —Å—Å—ã–ª–∫–∞–º
- üóÑÔ∏è **SQLite —Ö—Ä–∞–Ω–∏–ª–∏—â–µ** - –ø—Ä–æ—Å—Ç–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

## API

### –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ—Ä–æ—Ç–∫–æ–π —Å—Å—ã–ª–∫–∏
```
POST /shorten
```

–ó–∞–ø—Ä–æ—Å:
```json
{
  "url": "https://example.com",
  "alias": "example",    // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
  "ttl_days": 7          // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
}
```

–û—Ç–≤–µ—Ç:
```json
{
  "code": "example",
  "short_url": "http://localhost:8080/r/example"
}
```

### –ü–µ—Ä–µ—Ö–æ–¥ –ø–æ –∫–æ—Ä–æ—Ç–∫–æ–π —Å—Å—ã–ª–∫–µ
```
GET /r/{code}
```
–ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π URL.

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
```
GET /stats/{code}
```

–û—Ç–≤–µ—Ç:
```json
{
  "url": "https://example.com",
  "created_at": "2025-08-19T19:05:32Z",
  "expires_at": "2025-08-26T19:05:32Z",
  "hit_count": 5
}
```

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker logs tinyurl

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker stop tinyurl

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker restart tinyurl

# –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker rm tinyurl

# –£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–º–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ - —É–¥–∞–ª–∏—Ç –≤—Å–µ —Å—Å—ã–ª–∫–∏!)
docker volume rm tinyurl-data
```
